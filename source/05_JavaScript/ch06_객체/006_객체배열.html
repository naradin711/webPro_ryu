<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>객체배열</title>
    <script>
        var students = [{ name: "이수정", kor: 99, math: 95, eng: 98, sci: 100 },
            { name: "정수정", kor: 89, math: 90, eng: 100, sci: 99 }];
        students.push({ name: "서지수", kor: 100, math: 95, eng: 99, sci: 95 });
        students.push({ name: "류수정", kor: 100, math: 98, eng: 96, sci: 92 });
        students.push({ name: "김지연", kor: 100, math: 98, eng: 100, sci: 93 });
        for (var idx in students) { //idx 0~4까지 반복
            students[idx].getSum = function () {
                return this.kor + this.math + this.eng + this.sci;
            };
            students[idx].getAvg = function () {
                return Math.round(this.getSum()) / 4;
            };
            students[idx].toString = function () {
                var output = " ";
                for (var key in this) {
                    if (key != "getSum" && key != "getAvg" && key != "toString") {
                        output += key + " : " + this[key] + "<br>";
                    } else if (key == "getSum" || key == "getAvg") {
                        output += key.substring(3).toUpperCase + " : " + this[key]() + "<br>";
                    };
                };
                return output;
            };
        };// for 문
        // 1. students 배열 출력 : 일반 for 문
        var output = " ";
        for (var idx = 0; idx < students.length; idx++) {
            output += idx + "번째 : <br>";
            output += students[idx];

        };
        document.write(output);
        alert(output.replaceAll("<br>", "\n"));
        //str = "aaaa<br>bbbb<br>cccc<br>dddd<br>eeee";
        //splitStr = [aaaa , bbbb,  cccc, dddd, eeee];
        //join = [aaaa\nbbbb\ncccc\ndddd\neeee];
        function replaceAll (str, old1, new1){ //str내의 old1을 new1으로 대체
            var splitStr = str.split(old1);
            var joinStr = splitStr.joinStr(new1);
            return joinStr;
        }

        // 2. students 배열 출력 :   for in 문
        document.write("<h4>for in 구문이용</h4>");
        var output = " ";
        for (var idx in students) {
            output += idx + "번째 : <br>";
            output += students[idx];

        };
        document.write("<br><br><hr>"+output);
        // 3. students 배열 출력 :   forEach()함수 이용 
        document.write("<h4>forEach()함수이용</h4>");
        
        students.forEach(function (data, idx){
            document.write(idx + "번째 : <br>");
            document.write(data + "<hr>");
        });
           
       
    </script>
</head>
<body>

</body>
</html>